Migration Instructions: LayoutCraft Blog Architecture Refactor
1. Project Overview
Goal: Refactor the current static HTML site (hosted on Vercel) to support automated content publishing via AI (n8n). Constraint: Must remain a static site (no Next.js/React). The "build step" will be a simple Node.js script. Current State: All HTML files are in the root directory. Blog posts are manual HTML files. Future State:

All public-facing assets (existing site) moved to a public/ directory.

New blog posts generated from Markdown (.md) files in content/blog/.

A build.js script generates the Blog Homepage and new Post pages at build time.

2. Directory Structure Changes
Action: You need to reorganize the project structure as follows:

Plaintext

layoutcraft/
├── package.json               <-- NEW: Dependencies (marked, front-matter)
├── build.js                   <-- NEW: Build script
├── vercel.json                <-- EXISTING: Keep in root
├── content/                   <-- NEW: Source for AI content
│   └── blog/
│       ├── welcome-to-layoutcraft.md   (Type: "generated")
│       └── [other-posts].md            (Type: "manual" stubs)
├── src/                       <-- NEW: HTML Templates
│   └── templates/
│       ├── blog-index.html    (Template for /blog/index.html)
│       └── blog-post.html     (Template for single posts)
└── public/                    <-- NEW: The root for Vercel serving
    ├── index.html             (Moved from root)
    ├── about/                 (Moved from root)
    ├── app/                   (Moved from root)
    ├── assets/                (Moved from root)
    ├── shared/                (Moved from root)
    └── blog/                  (The output target for build.js)
        ├── posts/             (Contains existing manual HTML files + new generated ones)
        └── index.html         (Generated by build.js)
3. Step-by-Step Execution Plan
Step 1: Initialize Node Environment
Initialize package.json in the project root.

Install required dev dependencies: npm install marked front-matter.

Add a build script command to package.json: "build": "node build.js".

Step 2: "The Great Move" (File Reorganization)
Create a directory named public.

Move ALL existing site files and folders (index.html, about, pricing, app, blog, css, assets, shared, robots.txt, sitemap.xml, etc.) into public/.

Exception: Keep vercel.json, .gitignore, and README.md in the root.

Step 3: Create Templates
Create src/templates/.

blog-index.html: Copy the HTML from your original blog/index.html. Replace the hardcoded list of article cards with a placeholder {{posts_grid}}.

blog-post.html: Extract the HTML structure from blog/posts/welcome-to-layoutcraft/index.html. Replace dynamic content (Title, Date, Category, Content Body, Image URL) with placeholders like {{title}}, {{content}}, {{image}}.

Step 4: Content Migration (The Hybrid Approach)
We need to support both existing (manual) posts and new (AI-generated) posts.

Policy for Images:

Old Posts: Continue using relative paths (e.g., /assets/images/old.png).

New Posts: Use absolute Supabase URLs provided by the AI workflow.

Implementation: The template's <img src="{{image}}"> tag handles both strings equally well.

Action: Create Content Files in content/blog/

The Test Migration: Create welcome-to-layoutcraft.md.

Frontmatter: type: "generated", slug: "welcome-to-layoutcraft", image: "/blog/assets/layoutcraft-welcome.png".

Body: Copy the text content from the original HTML file.

The Stubs: Create .md files for the other 4-5 existing posts.

Frontmatter ONLY: type: "manual", slug: "writing-better-prompts", title: "...", excerpt: "...", date: "...".

Do NOT include body content. These exist only so build.js can list them on the homepage card grid.

Step 5: Implement build.js
Create the Node.js script that runs on deploy.

Logic Requirements:

Read all .md files from content/blog.

Sort them by date (descending).

Loop through posts:

If type === 'generated': Convert Markdown to HTML using marked. Inject into blog-post.html template. Write the file to public/blog/posts/[slug]/index.html.

If type === 'manual': Do nothing (assume the HTML file already exists in public/blog/posts/ from the move in Step 2).

Generate Homepage:

Generate the HTML for the card grid using the metadata from ALL posts (both manual and generated).

Inject into blog-index.html.

Overwrite public/blog/index.html.

4. Verification Checklist
After execution, run node build.js locally and check:

Does public/blog/index.html exist and list ALL posts?

Does public/blog/posts/welcome-to-layoutcraft/index.html exist and look correct?

Do the other old posts (e.g., writing-better-prompts) still load correctly (served from their original static HTML)?

Do images load for both types?